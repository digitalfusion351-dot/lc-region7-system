<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏° - ‡∏™‡∏†‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ 7</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢ -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap">
  <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

  <style>
    :root {
      --bg: #f3f7ff;
      --card: #ffffff;
      --primary: #0f83ff;
      --primary-soft: #e1efff;
      --text: #1f2933;
      --muted: #7b8794;
      --danger: #e02424;
      --success: #159947;
      --radius-lg: 18px;
      --shadow-lg: 0 14px 40px rgba(15, 131, 255, 0.12);
    }

    * {
      box-sizing: border-box;
      font-family: "Kanit", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #e3f2ff 0, #f3f7ff 60%, #edf1f7 100%);
      color: var(--text);
    }

    /* TOPBAR */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(14px);
      background: linear-gradient(to right, rgba(255,255,255,0.9), rgba(244,248,255,0.95));
      border-bottom: 1px solid rgba(209,221,245,0.8);
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .topbar-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo-circle {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #4fadff 0, #0f83ff 55%, #0052cc 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.9rem;
      box-shadow: 0 6px 15px rgba(15,131,255,0.4);
    }
    .app-title-main {
      font-weight: 600;
      font-size: 1rem;
    }
    .app-title-sub {
      font-size: 0.75rem;
      color: var(--muted);
    }
    .topbar-right {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      color: var(--muted);
    }

    /* LAYOUT */
    main {
      padding: 16px;
      max-width: 960px;
      margin: 0 auto 32px auto;
    }
    .hero {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 12px;
    }
    .hero-title {
      font-size: 1.3rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .hero-title .material-icons {
      font-size: 1.5rem;
      color: var(--primary);
    }
    .hero-subtitle {
      font-size: 0.85rem;
      color: var(--muted);
    }
    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 0.7rem;
    }
    .pill {
      padding: 2px 10px;
      border-radius: 999px;
      background: rgba(15,131,255,0.06);
      color: #1b4b91;
    }
    .card {
      background: var(--card);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      padding: 18px 16px 16px;
      margin-top: 12px;
    }

    /* TABS */
    .tabs {
      display: flex;
      gap: 6px;
      background: #e4edff;
      padding: 4px;
      border-radius: 999px;
      margin-bottom: 10px;
    }
    .tab-btn {
      flex: 1;
      border-radius: 999px;
      border: none;
      padding: 7px 6px;
      font-size: 0.8rem;
      background: transparent;
      color: #2c3e50;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      cursor: pointer;
    }
    .tab-btn .material-icons {
      font-size: 1rem;
    }
    .tab-btn.active {
      background: #ffffff;
      color: var(--primary);
      box-shadow: 0 4px 14px rgba(15,131,255,0.2);
    }
    .tab-panel {
      display: none;
      margin-top: 6px;
    }
    .tab-panel.active {
      display: block;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.95rem;
      font-weight: 500;
      margin-bottom: 4px;
    }
    .section-title .badge {
      font-size: 0.7rem;
      padding: 1px 8px;
      border-radius: 999px;
      background: #e5f0ff;
      color: #1b4b91;
    }

    .hint {
      font-size: 0.75rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    /* FORM */
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 640px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }
    .form-group {
      margin-bottom: 8px;
    }
    .form-label {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 2px;
    }
    .form-label .material-icons {
      font-size: 1rem;
      color: var(--primary);
    }
    input, select, textarea {
      width: 100%;
      padding: 8px 9px;
      border-radius: 10px;
      border: 1px solid #ced7ea;
      font-size: 0.85rem;
      outline: none;
      transition: box-shadow 0.15s, border-color 0.15s, transform 0.05s;
      background: #fdfdff;
    }
    input:focus, select:focus, textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(15,131,255,0.16);
      transform: translateY(-1px);
      background: #ffffff;
    }
    textarea {
      resize: vertical;
      min-height: 80px;
    }
    .small-text {
      font-size: 0.7rem;
      color: var(--muted);
      margin-top: 3px;
    }
    input[type="file"] {
      padding: 6px 8px;
      background: #f7f9ff;
      border-radius: 10px;
      border: 1px dashed #cbd5f0;
      font-size: 0.8rem;
    }

    /* BUTTONS */
    .btn-row {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    .btn {
      border-radius: 999px;
      border: none;
      padding: 9px 18px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    .btn-primary {
      background: linear-gradient(135deg, #0f83ff, #0066dd);
      color: #ffffff;
      box-shadow: 0 6px 18px rgba(15,131,255,0.35);
    }
    .btn-secondary {
      background: #eef2ff;
      color: #233659;
    }
    .btn .material-icons {
      font-size: 1.1rem;
    }

    .msg {
      font-size: 0.78rem;
      margin-top: 6px;
      line-height: 1.4;
    }
    .msg.error { color: var(--danger); }
    .msg.success { color: var(--success); }

    /* PROGRESS BAR */
    .progress-line {
      position: relative;
      margin-top: 10px;
      padding: 6px 0 0 0;
    }
    .progress-track {
      height: 4px;
      border-radius: 999px;
      background: #dde6f5;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #1cc58f, #0f83ff);
      transition: width 0.3s;
    }
    .progress-steps {
      display: flex;
      justify-content: space-between;
      font-size: 0.65rem;
      color: var(--muted);
      margin-top: 5px;
    }

    /* PDPA BOX */
    .pdpa-box {
      background: #f6f9ff;
      border: 1px solid #d3e0ff;
      border-radius: 14px;
      padding: 16px 18px;
      margin-top: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    }
    .pdpa-title {
      display: flex;
      align-items: center;
      font-size: 0.9rem;
      margin-bottom: 8px;
      color: #1f3fa3;
      font-weight: 600;
    }
    .pdpa-title .material-icons {
      font-size: 1.2rem;
      margin-right: 6px;
      color: #1f3fa3;
    }
    .pdpa-text {
      font-size: 0.8rem;
      color: #444;
      line-height: 1.5;
      margin: 0 0 10px;
    }
    .pdpa-accept {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      color: #111827;
    }
    .pdpa-accept input[type="checkbox"] {
      width: 18px;
      height: 18px;
      margin: 0;
      accent-color: var(--primary);
    }
  </style>
</head>
<body>

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo-circle">LC7</div>
      <div>
        <div class="app-title-main">‡∏™‡∏†‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ 7</div>
        <div class="app-title-sub">‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°</div>
      </div>
    </div>
    <div class="topbar-right">
      <span class="material-icons" style="font-size:1rem;">support_agent</span>
      <span>‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°</span>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="hero-title">
        <span class="material-icons">gavel</span>
        <span>‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°</span>
      </div>
      <div class="hero-subtitle">
        ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ü‡πâ‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á ‡∏ñ‡∏π‡∏Å‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
      </div>
      <div class="pill-row">
        <div class="pill">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°</div>
        <div class="pill">‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ü‡πâ‡∏≠‡∏á/‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ</div>
        <div class="pill">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö</div>
      </div>
    </section>

    <section class="card">
      <!-- TABS -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="tab-new">
          <span class="material-icons">note_add</span>
          <span>‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</span>
        </button>
        <button class="tab-btn" data-tab="tab-track">
          <span class="material-icons">track_changes</span>
          <span>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠</span>
        </button>
      </div>

      <!-- TAB: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ -->
      <div id="tab-new" class="tab-panel active">
        <div class="section-title">
          <span class="material-icons">assignment_ind</span>
          <span>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°</span>
          <span class="badge">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</span>
        </div>
        <div class="hint">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß
        </div>

        <form id="lawyerForm">
          <div class="form-grid">
            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">person</span>
                <span>‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏™‡∏Å‡∏∏‡∏•‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏° *</span>
              </div>
              <input name="full_name" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà ‡∏£.‡∏ï. ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">badge</span>
                <span>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏° *</span>
              </div>
              <input name="lawyer_license" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏ô.12345/2560" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">location_city</span>
                <span>‡∏†‡∏≤‡∏Ñ / ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î *</span>
              </div>
              <input name="region" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏†‡∏≤‡∏Ñ 7 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">phone_iphone</span>
                <span>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö *</span>
              </div>
              <input name="phone" required placeholder="‡πÄ‡∏ä‡πà‡∏ô 08X-XXX-XXXX" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">chat</span>
                <span>LINE ID *</span>
              </div>
              <input name="line_id" required placeholder="‡πÄ‡∏ä‡πà‡∏ô lawyerline123" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">email</span>
                <span>‡∏≠‡∏µ‡πÄ‡∏°‡∏• *</span>
              </div>
              <input name="email" type="email" required placeholder="‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö" />
            </div>

            <div class="form-group">
              <div class="form-label">
                <span class="material-icons">report_problem</span>
                <span>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤ *</span>
              </div>
              <select name="issue_type" required>
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤ --</option>
                <option value="sued">‡∏ñ‡∏π‡∏Å‡∏ü‡πâ‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á / ‡∏Ñ‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ü‡πâ‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö</option>
                <option value="complaint">‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
                <option value="discipline">‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏° / ‡∏ß‡∏¥‡∏ô‡∏±‡∏¢</option>
                <option value="fee">‡∏Ç‡πâ‡∏≠‡∏û‡∏¥‡∏û‡∏≤‡∏ó‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô / ‡∏Ñ‡πà‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢</option>
                <option value="other">‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <div class="form-label">
              <span class="material-icons">description</span>
              <span>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå *</span>
            </div>
            <textarea name="issue_detail" rows="5" required
              placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÇ‡∏î‡∏¢‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ñ‡∏π‡πà‡∏Å‡∏£‡∏ì‡∏µ‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏Ñ‡∏£ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏®‡∏≤‡∏•‡πÉ‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏î ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏†‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠"></textarea>
            <div class="small-text">
              * ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏Ñ‡∏≥‡∏ü‡πâ‡∏≠‡∏á ‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏®‡∏≤‡∏• / ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢
            </div>
          </div>

          <div class="form-group">
            <div class="form-label">
              <span class="material-icons">attach_file</span>
              <span>‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
            </div>
            <input type="file" name="attachment" multiple />
            <div class="small-text">
              ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå PDF / ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏ß‡∏°‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô ~10 MB ‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </div>
          </div>

          <!-- PDPA -->
          <div class="form-group">
            <div class="pdpa-box">
              <div class="pdpa-title">
                <span class="material-icons">verified_user</span>
                <span>‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (PDPA)</span>
              </div>
              <p class="pdpa-text">
                ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏™‡∏†‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ 7 ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏° ‡πÉ‡∏ä‡πâ ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤
                ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤
                ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏™‡∏†‡∏≤‡∏ó‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Å‡∏£‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏ö‡∏±‡∏ç‡∏ç‡∏±‡∏ï‡∏¥‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (PDPA)
              </p>
              <label class="pdpa-accept">
                <input type="checkbox" name="pdpa" required />
                <span>‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö</span>
              </label>
            </div>
            <div class="small-text">
              * ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏° ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ
            </div>
          </div>

          <div class="btn-row">
            <button type="reset" class="btn btn-secondary">
              <span class="material-icons">refresh</span>
              ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            </button>
            <button type="submit" class="btn btn-primary">
              <span class="material-icons">send</span>
              ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠
            </button>
          </div>

          <div id="lawyerMsg" class="msg"></div>
        </form>
      </div>

      <!-- TAB: ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠ -->
      <div id="tab-track" class="tab-panel">
        <div class="section-title">
          <span class="material-icons">query_stats</span>
          <span>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</span>
          <span class="badge">‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</span>
        </div>
        <div class="hint">
          ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
        </div>

        <form id="trackForm">
          <div class="form-group">
            <div class="form-label">
              <span class="material-icons">confirmation_number</span>
              <span>‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á *</span>
            </div>
            <input name="reference_no" required placeholder="‡πÄ‡∏ä‡πà‡∏ô L-20251124-0001" />
          </div>

          <div class="form-group">
            <div class="form-label">
              <span class="material-icons">alternate_email</span>
              <span>‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠ *</span>
            </div>
            <input name="email" type="email" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô" />
          </div>

          <div class="btn-row">
            <button type="submit" class="btn btn-primary">
              <span class="material-icons">search</span>
              ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            </button>
          </div>

          <div id="trackMsg" class="msg"></div>

          <div class="progress-line" id="progressContainer" style="display:none;">
            <div class="progress-track">
              <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="progress-steps">
              <span>‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß</span>
              <span>‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</span>
              <span>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• / ‡∏õ‡∏¥‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</span>
            </div>
          </div>
        </form>
      </div>
    </section>
  </main>

  <script>
    // ===== URL API Google Apps Script =====
    const API_BASE = "https://script.google.com/macros/s/AKfycbzwC16nHF1P950tsITwRc8e2EfKmCYMN-QHekY2D0nbn6bwSev6HfnnsB2VUGTtD7yrAA/exec";

    // ===== TAB SWITCH =====
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const tabId = btn.dataset.tab;

        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

        btn.classList.add('active');
        document.getElementById(tabId).classList.add('active');
      });
    });

    // ===== FORM: LAWYER HELP =====
    const lawyerForm = document.getElementById('lawyerForm');
    const lawyerMsg  = document.getElementById('lawyerMsg');

    lawyerForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (!lawyerForm.pdpa.checked) {
        lawyerMsg.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (PDPA) ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠';
        lawyerMsg.className = 'msg error';
        return;
      }

      lawyerMsg.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠...';
      lawyerMsg.className = 'msg';

      const formData = new FormData(lawyerForm);
      formData.append('action', 'createLawyerHelpCase');   // üëà ‡∏ä‡∏∑‡πà‡∏≠ action ‡∏ù‡∏±‡πà‡∏á Apps Script

      try {
        const res  = await fetch(API_BASE, { method: 'POST', body: formData });
        const data = await res.json();

        if (data.error) {
          if (data.error === 'pdpa_not_accepted') {
            lawyerMsg.textContent = '‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö PDPA ‡∏Å‡πà‡∏≠‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏î‡πâ';
          } else {
            lawyerMsg.textContent = '‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + data.error;
          }
          lawyerMsg.className = 'msg error';
          return;
        }

        lawyerMsg.innerHTML =
          '‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß<br>‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠: <b>' + data.reference_no +
          '</b><br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á';
        lawyerMsg.className = 'msg success';
        lawyerForm.reset();

      } catch (err) {
        console.error(err);
        lawyerMsg.textContent = '‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á';
        lawyerMsg.className = 'msg error';
      }
    });

    // ===== FORM: TRACK STATUS =====
    const trackForm         = document.getElementById('trackForm');
    const trackMsg          = document.getElementById('trackMsg');
    const progressContainer = document.getElementById('progressContainer');
    const progressBar       = document.getElementById('progressBar');

    function statusToProgress(status) {
      switch (status) {
        case 'RECEIVED':    return 25;
        case 'IN_PROGRESS': return 60;
        case 'WAITING':     return 40;
        case 'CLOSED':      return 100;
        case 'REJECTED':    return 100;
        default:            return 10;
      }
    }

    trackForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      trackMsg.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞...';
      trackMsg.className = 'msg';
      progressContainer.style.display = 'none';
      progressBar.style.width = '0';

      const params = new URLSearchParams({
        action: 'getLawyerHelpStatus',   // üëà ‡∏ä‡∏∑‡πà‡∏≠ action ‡∏ù‡∏±‡πà‡∏á Apps Script
        reference_no: trackForm.reference_no.value.trim(),
        email: trackForm.email.value.trim()
      });

      try {
        const res  = await fetch(API_BASE + '?' + params.toString());
        const data = await res.json();

        if (data.error) {
          trackMsg.textContent = '‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á/‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà';
          trackMsg.className = 'msg error';
          return;
        }

        trackMsg.innerHTML =
          'üìå ‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: <b>' + data.reference_no + '</b><br>' +
          '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <b>' + data.status_th + '</b><br>' +
          '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ' + (data.last_update || '-');
        trackMsg.className = 'msg success';

        const percent = statusToProgress(data.status);
        progressBar.style.width = percent + '%';
        progressContainer.style.display = 'block';

      } catch (err) {
        console.error(err);
        trackMsg.textContent = '‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á';
        trackMsg.className = 'msg error';
      }
    });
  </script>
</body>
</html>
